@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}


<div id="loginForm">
    <form>
        
        <input type="text" id="userName" name="userName" placeholder="User Name" />
        <input type="text" id="password" name="password" placeholder="Password" />
    </form>
    <button id="search" onclick="login()">Login</button>
  
</div>


<div id="studentForm">
    <form>
        

        <input type="text" id="loginStatus" name="loginStatus" placeholder="Login Status" />
    </form>
  
    <button id="status" onclick="getStatus()">GetStatus</button>
    <button id="showAllCenters" onclick="showAllCenters()">Show All Centers</button>

</div>

<script>

    function getStatus() 
    {
        $.ajax({
            url: '/Admin/GetStatus/',
            contentType: 'application/json',
            success: function (data, textStatus, jQxhr) 
            {
                $("#loginStatus").val(data);
            },
            error: function (xhr, textStatus, error) {
                alert("Error");
                console.log(xhr.statusText);
                console.log(textStatus);
                console.log(error);
            }

        });
    }


    function login() 
    {
        $.ajax({
            type: 'POST',
            url: '/Admin/Login/',
            contentType: 'application/json',
            data: JSON.stringify(
            {
                "UserName": $('#userName').val(),
                "Password": $('#password').val()
            }),
            success: function (data, textStatus, jQxhr)
            {
               alert("Successfully Logged In");
               getStatus();
            },
            error: function (xhr, textStatus, error) 
            {
                alert(xhr.responseText);
                getStatus();
                console.log(xhr.statusText);
                console.log(textStatus);
                console.log(error);
            }

        });
    }


</script>